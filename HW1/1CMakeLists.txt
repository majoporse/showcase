cmake_minimum_required(VERSION 3.10)
project(WidgetLibrary)

set(CMAKE_CXX_STANDARD 20) # Use the C++20 standard

# Define the source files
set(SOURCES
    hw1.cpp
)

# Define the shared library name and type
set(LIBRARY_NAME widgets_library)

# Create the shared library
add_library(${LIBRARY_NAME} SHARED ${SOURCES})

# Add include directories if needed
# include_directories(your_include_directory)

# Set the library output directory
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)

# Set the library name and version
set_target_properties(${LIBRARY_NAME} PROPERTIES
    VERSION 1.0
    SOVERSION 1
)

# Installation
install(TARGETS ${LIBRARY_NAME}
    LIBRARY DESTINATION /usr/local/lib
    ARCHIVE DESTINATION /usr/local/lib
)

# Optional: You can install the header files as well
install(FILES hw1.hpp
    DESTINATION /usr/local/include/${LIBRARY_NAME}
)